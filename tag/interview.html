<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Likers - interview</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Likers </a></h1>
                <nav><ul>
                    <li><a href="/category/about.html">About</a></li>
                    <li><a href="/category/ios.html">iOS</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/nonatomic-vs-atomic.html">IOS tips #1: Nonatomic VS Atomic</a></h1>
<footer class="post-info">
        <abbr class="published" title="2016-01-08T00:00:00-06:00">
                Published: Fri 08 January 2016
        </abbr>
		<br />
        <abbr class="modified" title="2016-01-08T00:00:00-06:00">
                Updated: Fri 08 January 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/jinhuan-li.html">Jinhuan Li</a>
        </address>
<p>In <a href="/category/ios.html">iOS</a>.</p>
<p>tags: <a href="/tag/ios.html">iOS</a> <a href="/tag/interview.html">interview</a> </p>
</footer><!-- /.post-info --><h1>What's the most asked question for iOS interview?</h1>
<p>I would say "nonatomic VS atomic" should be the top 3, or even the most popular asked question. Yes there are a lot, a lot Q&amp;A's on the Internet, some of them are really good and have detail explanations while others just told you that </p>
<blockquote>
<p>always use nonatomic because it's faster</p>
</blockquote>
<h2>But Why?</h2>
<p>Short answer is: atomic use extra <strong>"lock"</strong> to the property before setter and getter, and after that <strong>"unlok"</strong> it. This lock cost more resources and makes atomic a little slow (lower performance) than nonatomic which has no lock.</p>
<h2>Why lock?</h2>
<p>This lock is used to keep property safe under multithread. Before one thread initializing the object, lock this object and so that other thread can not access it and prevent the risk of confusion.
Seems like the only use of the lock is keep multithread safe.</p>
<h2>Then why always use nonatomic?</h2>
<p>Since most of the classes under iOS, especially the ones related to UI, will be used in a single-threaded environment, it is safe to drop atomic. Even though the atomic is not that expensive, you don't need to pay for what you don't need. </p>
<h2>Important: atomic is not 100% safe</h2>
<p>Atomic is only thread-safe with simple use. It is not garantueed. <a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html">Appledoc</a> says the following:</p>
<blockquote>
<p>Consider an XYZPerson object in which both a person’s first and last names are changed using atomic accessors from one thread. If another thread accesses both names at the same time, the atomic getter methods will return complete strings (without crashing), but there’s no guarantee that those values will be the right names relative to each other. If the first name is accessed before the change, but the last name is accessed after the change, you’ll end up with an inconsistent, mismatched pair of names.</p>
</blockquote>
<p>So, as conclusion, don't forget to use atomic when you are dealing with multithread and keep in mind that atomic should not be your only "safe belt".</p>                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="<https://github.com/likers>">github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>